{
	"info": {
		"_postman_id": "b0343883-4c4a-4881-9d85-aed8f612ce0c",
		"name": "SupportResponseController",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "33871296",
		"_collection_link": "https://grey-water-827433.postman.co/workspace/VVA-API-TEST~b0528934-5cea-40b1-b58a-fc7629488251/collection/33871296-b0343883-4c4a-4881-9d85-aed8f612ce0c?action=share&source=collection_link&creator=33871296"
	},
	"item": [
		{
			"name": "New Request",
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "username",
							"value": "Admin",
							"type": "string"
						},
						{
							"key": "password",
							"value": "Password1234!",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"warning": "This is a duplicate header and will be overridden by the Content-Type header generated by Postman.",
						"key": "Content-Type",
						"value": "application/x-www-form-urlencoded",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"Question\": \"GJROJGR\",\r\n    \"Username\": \"LEUTRIM10\",\r\n    \"Response\": \"We dont know G\",\r\n    \"SupportQuestionId\": 2,\r\n    \"Created\": \"2024-04-11T00:00:00\"\r\n}\r\n",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://localhost:7107/Admin/SupportResponse",
					"protocol": "https",
					"host": [
						"localhost"
					],
					"port": "7107",
					"path": [
						"Admin",
						"SupportResponse"
					]
				}
			},
			"response": []
		},
		{
			"name": "New Request",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "test",
					"script": {
						"exec": [
							"// HTML-strängen som innehåller __RequestVerificationToken\r",
							"const htmlResponse = `\r",
							"    <!DOCTYPE html>\r",
							"    <html lang=\"en\">\r",
							"    <head>\r",
							"        <meta charset=\"utf-8\">\r",
							"        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r",
							"        <title>Log in</title>\r",
							"    </head>\r",
							"    <body>\r",
							"        <h1>Log in</h1>\r",
							"        <form method=\"post\" action=\"/Account/Login\">\r",
							"            <input type=\"hidden\" name=\"_handler\" value=\"login\" />\r",
							"            <input type=\"hidden\" name=\"__RequestVerificationToken\" value=\"CfDJ8CSTsoCamqFDp1At2LlIq5ledBLmYRvx1rBtrDJ3zhm5XzlgDPrTJeQ8G4tC0hv5jw2xa6hkVm4xWwkHb0-N66jJMd6WJxoVQCA6mvsXhkfJnYhVkxNLeodjsn5VahxE1pzAmSZqfwQTsWm1A7EbTW4\" />\r",
							"            <h2>Use a local account to log in.</h2>\r",
							"            <hr>\r",
							"            <div class=\"form-floating mb-3\">\r",
							"                <input autocomplete=\"username\" aria-required=\"true\" placeholder=\"Username\" name=\"Input.Username\" class=\"form-control valid\" value=\"\" />\r",
							"                <label for=\"Username\" class=\"form-label\">Username</label>\r",
							"            </div>\r",
							"            <div class=\"form-floating mb-3\">\r",
							"                <input type=\"password\" autocomplete=\"current-password\" aria-required=\"true\" placeholder=\"password\" name=\"Input.Password\" class=\"form-control valid\" value=\"\" />\r",
							"                <label for=\"password\" class=\"form-label\">Password</label>\r",
							"            </div>\r",
							"            <div class=\"checkbox mb-3\">\r",
							"                <label class=\"form-label\">\r",
							"                    <input type=\"checkbox\" name=\"Input.RememberMe\" class=\"darker-border-checkbox form-check-input valid\" value=\"True\" />\r",
							"                    Remember me\r",
							"                </label>\r",
							"            </div>\r",
							"            <button type=\"submit\" class=\"w-100 btn btn-lg btn-primary\">Log in</button>\r",
							"        </form>\r",
							"    </body>\r",
							"    </html>\r",
							"`;\r",
							"\r",
							"// Regex för att extrahera __RequestVerificationToken\r",
							"const regex = /<input type=\"hidden\" name=\"__RequestVerificationToken\" value=\"([^\"]+)\" \\/>/;\r",
							"const match = htmlResponse.match(regex);\r",
							"\r",
							"// Extrahera värdet av __RequestVerificationToken från matchningen\r",
							"const verificationTokenValue = match ? match[1] : '';\r",
							"\r",
							"console.log('Verification Token:', verificationTokenValue);\r",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "https://localhost:7107/Account/Login",
					"protocol": "https",
					"host": [
						"localhost"
					],
					"port": "7107",
					"path": [
						"Account",
						"Login"
					]
				}
			},
			"response": []
		}
	]
}